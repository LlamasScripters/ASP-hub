import { z as He, P as Ne } from "./PasswordStrengthIndicator-GvqmZ7qZ.js";
import { a as Ke, b as Qe, A as We } from "./alert-DcqybFAu.js";
import { a as Ge, z } from "./api-DLXzidRJ.js";
import { B as ts } from "./badge-BAidKpPB.js";
import { C as Xe } from "./circle-alert-CvO-74L-.js";
import { C as Ue } from "./copy-DzRsFaQv.js";
import {
	b as be,
	e as ie,
	d as ne,
	c as re,
	D as se,
	a as te,
} from "./dialog-CMg-ysIO.js";
import {
	a as Je,
	d as Ye,
	e as Ze,
	D as ce,
	b as es,
	c as ss,
} from "./dropdown-menu-B4Bx1zOg.js";
import { E as Be } from "./eye-D8N8bRfa.js";
import { E as Oe } from "./eye-off-zA7XEEL7.js";
import {
	L as Ae,
	o as Fe,
	i as Ie,
	h as K,
	B as L,
	w as Q,
	c as T,
	s as Ve,
	E as X,
	a as Z,
	l as de,
	u as ee,
	q as fe,
	r as me,
	t as q,
	G as qe,
	j as s,
	D as ue,
	F as ze,
} from "./index-kb-Ylywn.js";
import { C as Me } from "./index-mnH6Jux_.js";
import { I as oe } from "./input-CdkcPZS3.js";
import {
	d as J,
	S as Se,
	c as _e,
	b as ve,
	a as ye,
} from "./select-D8GIfri3.js";
import { S as W } from "./skeleton-C4Qqz043.js";
import {
	T as $e,
	e as A,
	d as De,
	b as I,
	c as ke,
	a as le,
} from "./table-De-kdsVW.js";
import { T as Ce, c as Ee, b as Pe, a as Re } from "./tooltip-CmSjPkvl.js";
import { u as ns } from "./useLocation-Boh3DZN6.js";
import { u as rs } from "./useQuery-DObI4S3_.js";
import {
	c as B,
	e as G,
	d as H,
	b as O,
	F as V,
	s as he,
	u as pe,
	a as xe,
} from "./zod-B5AhSGj5.js";
import "./index-PyBbJ2cN.js";
import "./index-Dqr9Wf5M.js";
import "./index-DauBq6FI.js";
import "./index-CvBT1pZ2.js";
import "./index-CnLXGm6V.js";
import "./index-Bv1xjdPd.js";
import "./index-Dl_6cIao.js";
import "./index-BRam3N1Z.js";
import "./x-BwQkFnmd.js";
import "./label-B9JbzJbC.js";
import "./index-3Axhna2x.js";
import "./index-CDAriSY_.js";
import "./index-8ZKmGdXm.js";
import "./index-C6LbJ2-_.js";
import "./chevron-down-CMzABl4R.js";
import "./chevron-up-DyH28r2x.js";
import "./index-BP52hRXm.js";
import "./chevron-right-QFzs-bqo.js"; /**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const is = [
		[
			"rect",
			{
				width: "18",
				height: "11",
				x: "3",
				y: "11",
				rx: "2",
				ry: "2",
				key: "1w4ew1",
			},
		],
		["path", { d: "M7 11V7a5 5 0 0 1 10 0v4", key: "fwvmzm" }],
	],
	os = Z("lock", is); /**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ls = [
		[
			"path",
			{
				d: "M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
				key: "14sxne",
			},
		],
		["path", { d: "M3 3v5h5", key: "1xhq8a" }],
		[
			"path",
			{
				d: "M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",
				key: "1hlbsb",
			},
		],
		["path", { d: "M16 16h5v5", key: "ccwih5" }],
	],
	Te = Z("refresh-ccw", ls); /**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const as = [
		[
			"path",
			{
				d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
				key: "oel41y",
			},
		],
		["path", { d: "M6.376 18.91a6 6 0 0 1 11.249.003", key: "hnjrf2" }],
		["circle", { cx: "12", cy: "11", r: "4", key: "1gt34v" }],
	],
	cs = Z("shield-user", as); /**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ds = [
		["path", { d: "M3 6h18", key: "d0wm0j" }],
		["path", { d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6", key: "4alrt4" }],
		["path", { d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2", key: "v07s0e" }],
	],
	ms = Z("trash", ds);
function Le(t) {
	const e = T.c(28),
		{ InputProps: a, ButtonProps: r, ContainerProps: o } = t;
	let i;
	e[0] !== a
		? ((i = a === void 0 ? {} : a), (e[0] = a), (e[1] = i))
		: (i = e[1]);
	const n = i;
	let d;
	e[2] !== r
		? ((d = r === void 0 ? {} : r), (e[2] = r), (e[3] = d))
		: (d = e[3]);
	const f = d;
	let l;
	e[4] !== o
		? ((l = o === void 0 ? {} : o), (e[4] = o), (e[5] = l))
		: (l = e[5]);
	const m = l,
		[c, h] = me.useState(!1),
		N = c ? Oe : Be,
		y = c ? "Masquer le mot de passe" : "Afficher le mot de passe",
		P = c ? "text" : "password";
	let g;
	e[6] !== m.className
		? ((g = de("relative", m.className)), (e[6] = m.className), (e[7] = g))
		: (g = e[7]);
	let x;
	e[8] !== n.className
		? ((x = de("pr-10", n.className)), (e[8] = n.className), (e[9] = x))
		: (x = e[9]);
	let u;
	e[10] !== n || e[11] !== x || e[12] !== P
		? ((u = s.jsx(oe, {
				type: P,
				placeholder: "Mot de passe",
				...n,
				className: x,
			})),
			(e[10] = n),
			(e[11] = x),
			(e[12] = P),
			(e[13] = u))
		: (u = e[13]);
	let j;
	e[14] !== c ? ((j = () => h(!c)), (e[14] = c), (e[15] = j)) : (j = e[15]);
	let v;
	e[16] !== N
		? ((v = s.jsx(N, { className: "h-4 w-4" })), (e[16] = N), (e[17] = v))
		: (v = e[17]);
	let b;
	e[18] !== f || e[19] !== y || e[20] !== j || e[21] !== v
		? ((b = s.jsx(L, {
				type: "button",
				variant: "ghost",
				size: "sm",
				className:
					"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",
				"aria-label": y,
				onClick: j,
				...f,
				children: v,
			})),
			(e[18] = f),
			(e[19] = y),
			(e[20] = j),
			(e[21] = v),
			(e[22] = b))
		: (b = e[22]);
	let p;
	return (
		e[23] !== m || e[24] !== b || e[25] !== g || e[26] !== u
			? ((p = s.jsxs("div", { ...m, className: g, children: [u, b] })),
				(e[23] = m),
				(e[24] = b),
				(e[25] = g),
				(e[26] = u),
				(e[27] = p))
			: (p = e[27]),
		p
	);
}
const we = ue.passwordMinLength,
	us = 20,
	fs =
		"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 !@#$%^&*()_+-=[]{}|;:,.<>?";
function hs(t) {
	return fs.includes(t);
}
function je() {
	const t = Math.floor(Math.random() * (us - we + 1)) + we;
	let e = "";
	while (e.length < t) {
		const r = new Uint8Array(1);
		crypto.getRandomValues(r);
		const o = String.fromCharCode(r[0]);
		hs(o) && (e += o);
	}
	return He(e).score < 3 ? je() : e;
}
const ps = z.object({
	firstName: z.string().min(2, "Le prénom doit contenir au moins 2 caractères"),
	lastName: z.string().min(2, "Le nom doit contenir au moins 2 caractères"),
	email: z.string().email("L'email est invalide"),
	password: z
		.string()
		.min(
			ue.passwordMinLength,
			"Le mot de passe doit contenir au moins 12 caractères",
		),
	role: z.enum(["user", "admin"]),
});
function xs(t) {
	const e = T.c(40),
		{ onSuccess: a, onError: r } = t,
		o = a === void 0 ? ys : a,
		i = r === void 0 ? Ss : r,
		[n, d] = me.useState(!1);
	let f;
	e[0] === Symbol.for("react.memo_cache_sentinel")
		? ((f = {
				resolver: he(ps),
				defaultValues: {
					role: "user",
					password: "",
					firstName: "",
					lastName: "",
					email: "",
				},
			}),
			(e[0] = f))
		: (f = e[0]);
	const l = pe(f);
	let m;
	e[1] !== l
		? ((m = {
				mutationFn: async (R) => {
					const { data: w, error: E } = await K.admin.createUser({
						email: R.email,
						password: R.password,
						name: `${R.firstName} ${R.lastName}`,
						role: R.role,
						data: {
							firstName: R.firstName,
							lastName: R.lastName,
							acceptTerms: !0,
							emailVerified: !0,
						},
					});
					if (E != null && E.code)
						throw (
							(l.setError("root", { message: Q(E.code) }),
							new Error(Q(E.code), { cause: E }))
						);
					if (!w)
						throw new Error("Une erreur est survenue, veuillez réessayer.");
					return w.user;
				},
			}),
			(e[1] = l),
			(e[2] = m))
		: (m = e[2]);
	const c = ee(m);
	let h;
	e[3] !== c || e[4] !== o
		? ((h = async (R) => {
				const w = await c.mutateAsync(R);
				o(w);
			}),
			(e[3] = c),
			(e[4] = o),
			(e[5] = h))
		: (h = e[5]);
	const N = h;
	let y;
	e[6] !== i
		? ((y = (R) => {
				const w = Object.values(R).at(0);
				w && i(new Error(w.message));
			}),
			(e[6] = i),
			(e[7] = y))
		: (y = e[7]);
	const P = y;
	let g;
	e[8] !== l || e[9] !== P || e[10] !== N
		? ((g = l.handleSubmit(N, P)),
			(e[8] = l),
			(e[9] = P),
			(e[10] = N),
			(e[11] = g))
		: (g = e[11]);
	let x, u, j;
	e[12] !== l.control
		? ((u = s.jsx(V, { control: l.control, name: "firstName", render: bs })),
			(j = s.jsx(V, { control: l.control, name: "lastName", render: gs })),
			(x = s.jsx(V, { control: l.control, name: "email", render: ws })),
			(e[12] = l.control),
			(e[13] = x),
			(e[14] = u),
			(e[15] = j))
		: ((x = e[13]), (u = e[14]), (j = e[15]));
	let v;
	e[16] !== n
		? ((v = (R) => {
				const { field: w } = R;
				return s.jsxs(O, {
					children: [
						s.jsx(B, { children: "Mot de passe" }),
						s.jsx(H, {
							children: s.jsxs("div", {
								className: "grid grid-cols-10 gap-2",
								children: [
									s.jsx("div", {
										className: "col-span-9",
										children: s.jsx(Le, {
											InputProps: w,
											ContainerProps: { className: "w-full" },
										}),
									}),
									s.jsx("div", {
										className: "col-span-1 flex justify-end",
										children: s.jsx(Ce, {
											children: s.jsxs(Ee, {
												open: n,
												children: [
													s.jsx(Pe, {
														asChild: !0,
														children: s.jsx(L, {
															type: "button",
															variant: "ghost",
															onClick: () => {
																window.navigator.clipboard.writeText(w.value),
																	d(!0),
																	setTimeout(() => d(!1), 2e3);
															},
															disabled: n,
															children: n
																? s.jsx(Me, {
																		className: "size-4 text-green-500",
																	})
																: s.jsx(Ue, { className: "size-4" }),
														}),
													}),
													s.jsx(Re, {
														children: s.jsx("p", { children: "Copié !" }),
													}),
												],
											}),
										}),
									}),
									s.jsx("div", {
										className: "col-span-9",
										children:
											typeof w.value == "string" &&
											s.jsx(Ne, { password: w.value }),
									}),
									s.jsx("div", {
										className: "col-span-10",
										children: s.jsxs(L, {
											variant: "outline",
											type: "button",
											size: "sm",
											onClick: () => {
												const E = je();
												w.onChange(E);
											},
											children: [
												s.jsx(Te, { className: "size-4" }),
												"Générer un mot de passe",
											],
										}),
									}),
								],
							}),
						}),
						s.jsx(G, {}),
					],
				});
			}),
			(e[16] = n),
			(e[17] = v))
		: (v = e[17]);
	let b;
	e[18] !== l.control || e[19] !== v
		? ((b = s.jsx(V, { control: l.control, name: "password", render: v })),
			(e[18] = l.control),
			(e[19] = v),
			(e[20] = b))
		: (b = e[20]);
	let p;
	e[21] !== l.control
		? ((p = s.jsx(V, { control: l.control, name: "role", render: js })),
			(e[21] = l.control),
			(e[22] = p))
		: (p = e[22]);
	let M;
	e[23] !== l.formState.errors.root
		? ((M =
				l.formState.errors.root &&
				s.jsx("div", {
					className: "text-sm font-medium text-destructive",
					children: l.formState.errors.root.message,
				})),
			(e[23] = l.formState.errors.root),
			(e[24] = M))
		: (M = e[24]);
	const $ = l.formState.isSubmitting
		? "Enregistrement..."
		: "Enregistrer les modifications";
	let _;
	e[25] !== l.formState.isSubmitting || e[26] !== $
		? ((_ = s.jsx(L, {
				type: "submit",
				disabled: l.formState.isSubmitting,
				children: $,
			})),
			(e[25] = l.formState.isSubmitting),
			(e[26] = $),
			(e[27] = _))
		: (_ = e[27]);
	let C;
	e[28] !== x ||
	e[29] !== b ||
	e[30] !== p ||
	e[31] !== M ||
	e[32] !== _ ||
	e[33] !== g ||
	e[34] !== u ||
	e[35] !== j
		? ((C = s.jsxs("form", {
				onSubmit: g,
				className: "space-y-4",
				children: [u, j, x, b, p, M, _],
			})),
			(e[28] = x),
			(e[29] = b),
			(e[30] = p),
			(e[31] = M),
			(e[32] = _),
			(e[33] = g),
			(e[34] = u),
			(e[35] = j),
			(e[36] = C))
		: (C = e[36]);
	let U;
	return (
		e[37] !== l || e[38] !== C
			? ((U = s.jsx(xe, { ...l, children: C })),
				(e[37] = l),
				(e[38] = C),
				(e[39] = U))
			: (U = e[39]),
		U
	);
}
function js(t) {
	const { field: e } = t;
	return s.jsxs(O, {
		children: [
			s.jsx(B, { children: "Rôle" }),
			s.jsx(H, {
				children: s.jsxs(Se, {
					value: e.value,
					onValueChange: e.onChange,
					children: [
						s.jsx(ye, {
							children: s.jsx(ve, { placeholder: "Sélectionner un rôle" }),
						}),
						s.jsxs(_e, {
							children: [
								s.jsx(J, { value: "user", children: "Utilisateur" }),
								s.jsx(J, { value: "admin", children: "Administrateur" }),
							],
						}),
					],
				}),
			}),
			s.jsx(G, {}),
		],
	});
}
function ws(t) {
	const { field: e } = t;
	return s.jsxs(O, {
		children: [
			s.jsx(B, { children: "Adresse email" }),
			s.jsx(H, {
				children: s.jsx(oe, { placeholder: "pierre.dupont@asphub.fr", ...e }),
			}),
			s.jsx(G, {}),
		],
	});
}
function gs(t) {
	const { field: e } = t;
	return s.jsxs(O, {
		children: [
			s.jsx(B, { children: "Nom" }),
			s.jsx(H, { children: s.jsx(oe, { placeholder: "Nom", ...e }) }),
			s.jsx(G, {}),
		],
	});
}
function bs(t) {
	const { field: e } = t;
	return s.jsxs(O, {
		children: [
			s.jsx(B, { children: "Prénom" }),
			s.jsx(H, { children: s.jsx(oe, { placeholder: "Prénom", ...e }) }),
			s.jsx(G, {}),
		],
	});
}
function Ss() {}
function ys() {}
const vs = z.object({
	userId: z.string(),
	password: z
		.string()
		.min(
			ue.passwordMinLength,
			"Le mot de passe doit contenir au moins 12 caractères",
		),
});
function _s(t) {
	const e = T.c(43),
		{ onSuccess: a, onError: r, user: o } = t,
		i = a === void 0 ? Es : a,
		n = r === void 0 ? Cs : r,
		[d, f] = me.useState(!1);
	let l;
	e[0] === Symbol.for("react.memo_cache_sentinel")
		? ((l = he(vs)), (e[0] = l))
		: (l = e[0]);
	let m;
	e[1] !== o.id
		? ((m = { resolver: l, defaultValues: { userId: o.id, password: "" } }),
			(e[1] = o.id),
			(e[2] = m))
		: (m = e[2]);
	const c = pe(m);
	let h;
	e[3] !== i
		? ((h = () => {
				i();
			}),
			(e[3] = i),
			(e[4] = h))
		: (h = e[4]);
	let N;
	e[5] !== n
		? ((N = (S) => {
				n(S);
			}),
			(e[5] = n),
			(e[6] = N))
		: (N = e[6]);
	let y;
	e[7] !== h || e[8] !== N
		? ((y = { mutationFn: Ns, onSuccess: h, onError: N }),
			(e[7] = h),
			(e[8] = N),
			(e[9] = y))
		: (y = e[9]);
	const P = ee(y);
	let g;
	e[10] !== P
		? ((g = async (S) => {
				P.mutate(S);
			}),
			(e[10] = P),
			(e[11] = g))
		: (g = e[11]);
	const x = g;
	let u;
	e[12] !== n
		? ((u = (S) => {
				const D = Object.values(S).at(0);
				D && n(new Error(D.message));
			}),
			(e[12] = n),
			(e[13] = u))
		: (u = e[13]);
	const j = u;
	let v;
	e[14] !== c || e[15] !== j || e[16] !== x
		? ((v = c.handleSubmit(x, j)),
			(e[14] = c),
			(e[15] = j),
			(e[16] = x),
			(e[17] = v))
		: (v = e[17]);
	let b;
	e[18] === Symbol.for("react.memo_cache_sentinel")
		? ((b = s.jsx(Xe, { className: "size-4" })), (e[18] = b))
		: (b = e[18]);
	let p;
	e[19] !== o.name
		? ((p = s.jsxs(Qe, {
				children: ["Modification du mot de passe de l'utilisateur ", o.name],
			})),
			(e[19] = o.name),
			(e[20] = p))
		: (p = e[20]);
	let M;
	e[21] === Symbol.for("react.memo_cache_sentinel")
		? ((M = s.jsx(Ke, {
				children:
					"Attention, vous devrez communiquer le nouveau mot de passe à l'utilisateur.",
			})),
			(e[21] = M))
		: (M = e[21]);
	let $;
	e[22] !== p
		? (($ = s.jsxs(We, { variant: "default", children: [b, p, M] })),
			(e[22] = p),
			(e[23] = $))
		: ($ = e[23]);
	let _;
	e[24] !== d
		? ((_ = (S) => {
				const { field: D } = S;
				return s.jsxs(O, {
					children: [
						s.jsx(B, { children: "Mot de passe" }),
						s.jsx(H, {
							children: s.jsxs("div", {
								className: "grid grid-cols-10 gap-2",
								children: [
									s.jsx("div", {
										className: "col-span-9",
										children: s.jsx(Le, {
											InputProps: D,
											ContainerProps: { className: "w-full" },
										}),
									}),
									s.jsx("div", {
										className: "col-span-1 flex justify-end",
										children: s.jsx(Ce, {
											children: s.jsxs(Ee, {
												open: d,
												children: [
													s.jsx(Pe, {
														asChild: !0,
														children: s.jsx(L, {
															type: "button",
															variant: "ghost",
															onClick: () => {
																window.navigator.clipboard.writeText(D.value),
																	f(!0),
																	setTimeout(() => f(!1), 2e3);
															},
															disabled: d,
															children: d
																? s.jsx(Me, {
																		className: "size-4 text-green-500",
																	})
																: s.jsx(Ue, { className: "size-4" }),
														}),
													}),
													s.jsx(Re, {
														children: s.jsx("p", { children: "Copié !" }),
													}),
												],
											}),
										}),
									}),
									s.jsx("div", {
										className: "col-span-9",
										children:
											typeof D.value == "string" &&
											s.jsx(Ne, { password: D.value }),
									}),
									s.jsx("div", {
										className: "col-span-10",
										children: s.jsxs(L, {
											variant: "outline",
											type: "button",
											size: "sm",
											onClick: () => {
												const F = je();
												D.onChange(F);
											},
											children: [
												s.jsx(Te, { className: "size-4" }),
												"Générer un mot de passe",
											],
										}),
									}),
								],
							}),
						}),
						s.jsx(G, {}),
					],
				});
			}),
			(e[24] = d),
			(e[25] = _))
		: (_ = e[25]);
	let C;
	e[26] !== c.control || e[27] !== _
		? ((C = s.jsx(V, { control: c.control, name: "password", render: _ })),
			(e[26] = c.control),
			(e[27] = _),
			(e[28] = C))
		: (C = e[28]);
	let U;
	e[29] !== c.formState.errors.root
		? ((U =
				c.formState.errors.root &&
				s.jsx("div", {
					className: "text-sm font-medium text-destructive",
					children: c.formState.errors.root.message,
				})),
			(e[29] = c.formState.errors.root),
			(e[30] = U))
		: (U = e[30]);
	const R = c.formState.isSubmitting
		? "Modification en cours..."
		: "Enregistrer les modifications";
	let w;
	e[31] !== c.formState.isSubmitting || e[32] !== R
		? ((w = s.jsx(L, {
				type: "submit",
				disabled: c.formState.isSubmitting,
				children: R,
			})),
			(e[31] = c.formState.isSubmitting),
			(e[32] = R),
			(e[33] = w))
		: (w = e[33]);
	let E;
	e[34] !== v || e[35] !== $ || e[36] !== C || e[37] !== U || e[38] !== w
		? ((E = s.jsxs("form", {
				onSubmit: v,
				className: "space-y-4",
				children: [$, C, U, w],
			})),
			(e[34] = v),
			(e[35] = $),
			(e[36] = C),
			(e[37] = U),
			(e[38] = w),
			(e[39] = E))
		: (E = e[39]);
	let k;
	return (
		e[40] !== c || e[41] !== E
			? ((k = s.jsx(xe, { ...c, children: E })),
				(e[40] = c),
				(e[41] = E),
				(e[42] = k))
			: (k = e[42]),
		k
	);
}
async function Ns(t) {
	const e = await Ge.post(`users/${t.userId}/set-password`, {
		json: { newPassword: t.password },
	}).json();
	if (!(e != null && e.status))
		throw new Error("Erreur lors de la modification du mot de passe");
	return !0;
}
function Cs() {}
function Es() {}
function Ps() {
	const t = T.c(3);
	let e;
	t[0] === Symbol.for("react.memo_cache_sentinel")
		? ((e = s.jsx("div", {
				className: "flex justify-between items-center",
				children: s.jsx("h2", {
					className: "text-lg font-semibold",
					children: "Liste des utilisateurs",
				}),
			})),
			(t[0] = e))
		: (e = t[0]);
	let a;
	t[1] === Symbol.for("react.memo_cache_sentinel")
		? ((a = s.jsx($e, {
				children: s.jsxs(le, {
					children: [
						s.jsx(I, { children: "Nom" }),
						s.jsx(I, { children: "Prénom" }),
						s.jsx(I, { children: "Email" }),
						s.jsx(I, { children: "Rôle" }),
						s.jsx(I, { children: "Actions" }),
					],
				}),
			})),
			(t[1] = a))
		: (a = t[1]);
	let r;
	return (
		t[2] === Symbol.for("react.memo_cache_sentinel")
			? ((r = s.jsxs("div", {
					className: "space-y-4",
					children: [
						e,
						s.jsxs(ke, {
							children: [
								a,
								s.jsx(De, { children: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(Rs) }),
							],
						}),
					],
				})),
				(t[2] = r))
			: (r = t[2]),
		r
	);
}
function Rs(t) {
	return s.jsxs(
		le,
		{
			children: [
				s.jsx(A, { children: s.jsx(W, { className: "size-10" }) }),
				s.jsx(A, { children: s.jsx(W, { className: "size-10" }) }),
				s.jsx(A, { children: s.jsx(W, { className: "size-10" }) }),
				s.jsx(A, { children: s.jsx(W, { className: "size-10" }) }),
			],
		},
		t,
	);
}
const ge = {
	admin: {
		label: "Administrateur",
		className:
			"bg-destructive text-white border-transparent dark:bg-transparent dark:text-red-400 dark:border-red-400",
	},
	user: {
		label: "Utilisateur",
		className:
			"bg-blue-500 text-white border-transparent dark:bg-transparent dark:text-blue-500 dark:border-blue-500",
	},
};
function Ms(t) {
	const e = T.c(6),
		{ role: a, className: r } = t,
		o = ge[a];
	let i;
	e[0] !== r || e[1] !== o.className
		? ((i = de("hover:bg-unset select-none cursor-default", o.className, r)),
			(e[0] = r),
			(e[1] = o.className),
			(e[2] = i))
		: (i = e[2]);
	const n = ge[a];
	let d;
	return (
		e[3] !== i || e[4] !== n.label
			? ((d = s.jsx(ts, { className: i, children: n.label })),
				(e[3] = i),
				(e[4] = n.label),
				(e[5] = d))
			: (d = e[5]),
		d
	);
}
function Us(t) {
	var F;
	const e = T.c(42),
		{ onDelete: a, onResetPassword: r, onRoleEdit: o, user: i } = t,
		n = a === void 0 ? Ds : a,
		d = r === void 0 ? ks : r,
		f = o === void 0 ? $s : o,
		{ data: l } = K.useSession(),
		m = ((F = l == null ? void 0 : l.user) == null ? void 0 : F.id) === i.id;
	let c;
	e[0] !== f || e[1] !== i
		? ((c = () => {
				f(i);
			}),
			(e[0] = f),
			(e[1] = i),
			(e[2] = c))
		: (c = e[2]);
	const h = c;
	let N;
	e[3] !== d || e[4] !== i
		? ((N = () => {
				d(i);
			}),
			(e[3] = d),
			(e[4] = i),
			(e[5] = N))
		: (N = e[5]);
	const y = N;
	let P;
	e[6] !== n || e[7] !== i
		? ((P = () => {
				n(i);
			}),
			(e[6] = n),
			(e[7] = i),
			(e[8] = P))
		: (P = e[8]);
	const g = P;
	let x;
	e[9] !== i.lastName
		? ((x = s.jsx(A, { children: i.lastName })),
			(e[9] = i.lastName),
			(e[10] = x))
		: (x = e[10]);
	let u;
	e[11] !== i.firstName
		? ((u = s.jsx(A, { children: i.firstName })),
			(e[11] = i.firstName),
			(e[12] = u))
		: (u = e[12]);
	let j;
	e[13] !== i.email
		? ((j = s.jsx(A, { children: i.email })), (e[13] = i.email), (e[14] = j))
		: (j = e[14]);
	const v = i.role;
	let b;
	e[15] !== v
		? ((b = s.jsx(A, { children: s.jsx(Ms, { role: v }) })),
			(e[15] = v),
			(e[16] = b))
		: (b = e[16]);
	let p;
	e[17] === Symbol.for("react.memo_cache_sentinel")
		? ((p = s.jsx(Je, {
				asChild: !0,
				children: s.jsxs(L, {
					variant: "ghost",
					size: "icon",
					children: [
						s.jsx("span", { className: "sr-only", children: "Ouvrir le menu" }),
						"⋮",
					],
				}),
			})),
			(e[17] = p))
		: (p = e[17]);
	let M;
	e[18] === Symbol.for("react.memo_cache_sentinel")
		? ((M = s.jsx(Ye, { className: "select-none", children: "Actions" })),
			(e[18] = M))
		: (M = e[18]);
	let $;
	e[19] === Symbol.for("react.memo_cache_sentinel")
		? (($ = s.jsx(os, { className: "size-4" })), (e[19] = $))
		: ($ = e[19]);
	let _;
	e[20] !== y
		? ((_ = s.jsxs(ce, {
				onClick: y,
				children: [$, "Modifier le mot de passe"],
			})),
			(e[20] = y),
			(e[21] = _))
		: (_ = e[21]);
	let C;
	e[22] === Symbol.for("react.memo_cache_sentinel")
		? ((C = s.jsx(cs, { className: "size-4" })), (e[22] = C))
		: (C = e[22]);
	let U;
	e[23] !== h
		? ((U = s.jsxs(ce, { onClick: h, children: [C, "Modifier le rôle"] })),
			(e[23] = h),
			(e[24] = U))
		: (U = e[24]);
	let R;
	e[25] === Symbol.for("react.memo_cache_sentinel")
		? ((R = s.jsx(Ze, {})), (e[25] = R))
		: (R = e[25]);
	const w = m ? "default" : "destructive";
	let E;
	e[26] === Symbol.for("react.memo_cache_sentinel")
		? ((E = s.jsx(ms, { className: "size-4" })), (e[26] = E))
		: (E = e[26]);
	let k;
	e[27] !== g || e[28] !== m || e[29] !== w
		? ((k = s.jsxs(ce, {
				variant: w,
				onClick: g,
				disabled: m,
				children: [E, "Supprimer l'utilisateur"],
			})),
			(e[27] = g),
			(e[28] = m),
			(e[29] = w),
			(e[30] = k))
		: (k = e[30]);
	let S;
	e[31] !== _ || e[32] !== U || e[33] !== k
		? ((S = s.jsx(A, {
				children: s.jsxs(es, {
					children: [
						p,
						s.jsxs(ss, { align: "end", children: [M, _, U, R, k] }),
					],
				}),
			})),
			(e[31] = _),
			(e[32] = U),
			(e[33] = k),
			(e[34] = S))
		: (S = e[34]);
	let D;
	return (
		e[35] !== b ||
		e[36] !== S ||
		e[37] !== x ||
		e[38] !== u ||
		e[39] !== j ||
		e[40] !== i.id
			? ((D = s.jsxs(le, { children: [x, u, j, b, S] }, i.id)),
				(e[35] = b),
				(e[36] = S),
				(e[37] = x),
				(e[38] = u),
				(e[39] = j),
				(e[40] = i.id),
				(e[41] = D))
			: (D = e[41]),
		D
	);
}
function $s(t) {}
function ks(t) {}
function Ds(t) {}
const Ts = () => {
	const t = T.c(1);
	let e;
	return (
		t[0] === Symbol.for("react.memo_cache_sentinel")
			? ((e = s.jsx($e, {
					children: s.jsxs(le, {
						children: [
							s.jsx(I, { children: "Nom" }),
							s.jsx(I, { children: "Prénom" }),
							s.jsx(I, { children: "Email" }),
							s.jsx(I, { children: "Rôle" }),
							s.jsx(I, { children: "Actions" }),
						],
					}),
				})),
				(t[0] = e))
			: (e = t[0]),
		e
	);
};
function Ls(t) {
	const e = T.c(18),
		{
			users: a,
			onUserRoleEdit: r,
			onUserResetPassword: o,
			onUserDelete: i,
		} = t,
		n = r === void 0 ? As : r,
		d = o === void 0 ? zs : o,
		f = i === void 0 ? Is : i;
	let l;
	e[0] !== n
		? ((l = (u) => {
				n(u);
			}),
			(e[0] = n),
			(e[1] = l))
		: (l = e[1]);
	const m = l;
	let c;
	e[2] !== d
		? ((c = (u) => {
				d(u);
			}),
			(e[2] = d),
			(e[3] = c))
		: (c = e[3]);
	const h = c;
	let N;
	e[4] !== f
		? ((N = (u) => {
				f(u);
			}),
			(e[4] = f),
			(e[5] = N))
		: (N = e[5]);
	const y = N;
	let P;
	e[6] === Symbol.for("react.memo_cache_sentinel")
		? ((P = s.jsx(Ts, {})), (e[6] = P))
		: (P = e[6]);
	let g;
	if (e[7] !== y || e[8] !== h || e[9] !== m || e[10] !== a) {
		let u;
		e[12] !== y || e[13] !== h || e[14] !== m
			? ((u = (j) =>
					s.jsx(
						Us,
						{ user: j, onDelete: y, onResetPassword: h, onRoleEdit: m },
						j.id,
					)),
				(e[12] = y),
				(e[13] = h),
				(e[14] = m),
				(e[15] = u))
			: (u = e[15]),
			(g = a.map(u)),
			(e[7] = y),
			(e[8] = h),
			(e[9] = m),
			(e[10] = a),
			(e[11] = g);
	} else g = e[11];
	let x;
	return (
		e[16] !== g
			? ((x = s.jsxs(ke, { children: [P, s.jsx(De, { children: g })] })),
				(e[16] = g),
				(e[17] = x))
			: (x = e[17]),
		x
	);
}
function Is() {}
function zs() {}
function As() {}
const Y = (t = {}) =>
		ze({
			queryKey: ["admin", "users", t],
			queryFn: async ({ queryKey: e }) => {
				const a = e[2],
					{ data: r, error: o } = await K.admin.listUsers({ query: a });
				if (o != null && o.code) throw new Error(Q(o.code));
				if (!r) throw new Error("Aucun utilisateur trouvé");
				return { total: r.total, users: r.users };
			},
		}),
	Fs = Fe({ role: qe(["user", "admin"]), userId: Ve() });
function Vs(t) {
	const e = T.c(48);
	let a, r;
	e[0] !== t
		? (({ user: r, ...a } = t), (e[0] = t), (e[1] = a), (e[2] = r))
		: ((a = e[1]), (r = e[2]));
	const o = X.useSearch();
	let i;
	if (e[3] !== o) {
		const { action: R, ...w } = o;
		(i = w), (e[3] = o), (e[4] = i);
	} else i = e[4];
	const { onOpenChange: n } = a;
	let d;
	e[5] === Symbol.for("react.memo_cache_sentinel")
		? ((d = he(Fs)), (e[5] = d))
		: (d = e[5]);
	const f = r.role || "user";
	let l;
	e[6] !== f || e[7] !== r.id
		? ((l = { resolver: d, defaultValues: { role: f, userId: r.id } }),
			(e[6] = f),
			(e[7] = r.id),
			(e[8] = l))
		: (l = e[8]);
	const m = pe(l);
	let c;
	e[9] !== i || e[10] !== r.id
		? ((c = async (R) => {
				const { data: w, error: E } = await K.admin.setRole({
					userId: r.id,
					role: R.role,
				});
				if (E != null && E.code) throw new Error(Q(E.code));
				if (!w) throw new Error("Erreur lors de la modification du rôle");
				return (
					fe.setQueryData(Y(i).queryKey, (k) => {
						if (!k) return k;
						const S = k.users,
							D = S.findIndex((ae) => ae.id === R.userId);
						if (D === -1) return k;
						const F = S.with(D, w.user);
						return { total: k.total, users: F };
					}),
					w
				);
			}),
			(e[9] = i),
			(e[10] = r.id),
			(e[11] = c))
		: (c = e[11]);
	let h;
	e[12] !== n || e[13] !== r.name
		? ((h = () => {
				n && n(!1),
					q.success("Rôle modifié avec succès", {
						description: `Le rôle de ${r.name} a été modifié avec succès`,
					});
			}),
			(e[12] = n),
			(e[13] = r.name),
			(e[14] = h))
		: (h = e[14]);
	let N;
	e[15] !== c || e[16] !== h
		? ((N = { mutationFn: c, onSuccess: h }),
			(e[15] = c),
			(e[16] = h),
			(e[17] = N))
		: (N = e[17]);
	const y = ee(N);
	let P;
	e[18] !== y
		? ((P = async (w) => {
				y.mutate(w);
			}),
			(e[18] = y),
			(e[19] = P))
		: (P = e[19]);
	const g = P;
	let x;
	e[20] === Symbol.for("react.memo_cache_sentinel")
		? ((x = s.jsx(ne, { children: "Modifier le rôle" })), (e[20] = x))
		: (x = e[20]);
	let u;
	e[21] !== r.email || e[22] !== r.name
		? ((u = s.jsxs(se, {
				children: [
					x,
					s.jsxs(te, {
						children: [
							"Modifier le rôle de l'utilisateur ",
							r.name,
							" (",
							r.email,
							")",
						],
					}),
				],
			})),
			(e[21] = r.email),
			(e[22] = r.name),
			(e[23] = u))
		: (u = e[23]);
	let j;
	e[24] !== m || e[25] !== g
		? ((j = m.handleSubmit(g)), (e[24] = m), (e[25] = g), (e[26] = j))
		: (j = e[26]);
	let v;
	e[27] !== m.control
		? ((v = s.jsx(V, { control: m.control, name: "role", render: qs })),
			(e[27] = m.control),
			(e[28] = v))
		: (v = e[28]);
	let b;
	e[29] !== m.formState.errors.role
		? ((b =
				m.formState.errors.role &&
				s.jsx("div", {
					className: "text-red-500 text-sm",
					children: m.formState.errors.role.message,
				})),
			(e[29] = m.formState.errors.role),
			(e[30] = b))
		: (b = e[30]);
	const p = y.isPending ? "Enregistrement..." : "Enregistrer";
	let M;
	e[31] !== y.isPending || e[32] !== p
		? ((M = s.jsx(be, {
				children: s.jsx(L, {
					type: "submit",
					disabled: y.isPending,
					children: p,
				}),
			})),
			(e[31] = y.isPending),
			(e[32] = p),
			(e[33] = M))
		: (M = e[33]);
	let $;
	e[34] !== j || e[35] !== v || e[36] !== b || e[37] !== M
		? (($ = s.jsxs("form", {
				onSubmit: j,
				className: "space-y-4",
				children: [v, b, M],
			})),
			(e[34] = j),
			(e[35] = v),
			(e[36] = b),
			(e[37] = M),
			(e[38] = $))
		: ($ = e[38]);
	let _;
	e[39] !== m || e[40] !== $
		? ((_ = s.jsx(xe, { ...m, children: $ })),
			(e[39] = m),
			(e[40] = $),
			(e[41] = _))
		: (_ = e[41]);
	let C;
	e[42] !== u || e[43] !== _
		? ((C = s.jsxs(ie, { children: [u, _] })),
			(e[42] = u),
			(e[43] = _),
			(e[44] = C))
		: (C = e[44]);
	let U;
	return (
		e[45] !== a || e[46] !== C
			? ((U = s.jsx(re, { ...a, children: C })),
				(e[45] = a),
				(e[46] = C),
				(e[47] = U))
			: (U = e[47]),
		U
	);
}
function qs(t) {
	const { field: e } = t;
	return s.jsxs(O, {
		children: [
			s.jsx(B, { children: "Rôle" }),
			s.jsx(H, {
				children: s.jsxs(Se, {
					value: e.value,
					onValueChange: e.onChange,
					children: [
						s.jsx(ye, {
							children: s.jsx(ve, { placeholder: "Sélectionner un rôle" }),
						}),
						s.jsxs(_e, {
							children: [
								s.jsx(J, { value: "user", children: "Utilisateur" }),
								s.jsx(J, { value: "admin", children: "Administrateur" }),
							],
						}),
					],
				}),
			}),
			s.jsx(G, {}),
		],
	});
}
function Os(t) {
	const e = T.c(8),
		a = X.useSearch();
	let r;
	if (e[0] !== a) {
		const { action: d, ...f } = a;
		(r = f), (e[0] = a), (e[1] = r);
	} else r = e[1];
	let o;
	e[2] === Symbol.for("react.memo_cache_sentinel")
		? ((o = s.jsxs(se, {
				children: [
					s.jsx(ne, { children: "Créer un utilisateur" }),
					s.jsx(te, { children: "Créer un nouvel utilisateur" }),
				],
			})),
			(e[2] = o))
		: (o = e[2]);
	let i;
	e[3] !== r
		? ((i = s.jsxs(ie, {
				children: [
					o,
					s.jsx(xs, {
						onSuccess: (d) => {
							fe.setQueryData(Y(r).queryKey, (f) => {
								if (!f) return f;
								const l = [...f.users, d];
								return { total: l.length, users: l };
							}),
								q.success("Utilisateur créé avec succès", {
									description: `L'utilisateur ${d.name} a été créé avec succès`,
								});
						},
						onError: Bs,
					}),
				],
			})),
			(e[3] = r),
			(e[4] = i))
		: (i = e[4]);
	let n;
	return (
		e[5] !== t || e[6] !== i
			? ((n = s.jsx(re, { ...t, children: i })),
				(e[5] = t),
				(e[6] = i),
				(e[7] = n))
			: (n = e[7]),
		n
	);
}
function Bs(t) {
	q.error("Erreur lors de la création de l'utilisateur", {
		description: t.message,
	});
}
function Hs(t) {
	const e = T.c(17);
	let a, r;
	e[0] !== t
		? (({ user: r, ...a } = t), (e[0] = t), (e[1] = a), (e[2] = r))
		: ((a = e[1]), (r = e[2]));
	let o;
	e[3] === Symbol.for("react.memo_cache_sentinel")
		? ((o = s.jsx(ne, { children: "Réinitialiser le mot de passe" })),
			(e[3] = o))
		: (o = e[3]);
	let i;
	e[4] !== r.name
		? ((i = s.jsxs(se, {
				children: [
					o,
					s.jsxs(te, {
						children: [
							"Réinitialiser le mot de passe de l'utilisateur",
							" ",
							s.jsx("span", { className: "font-bold", children: r.name }),
						],
					}),
				],
			})),
			(e[4] = r.name),
			(e[5] = i))
		: (i = e[5]);
	let n;
	e[6] !== r.name
		? ((n = () => {
				q.success("Mot de passe réinitialisé avec succès", {
					description: `Le mot de passe de l'utilisateur ${r.name} a été réinitialisé avec succès`,
				});
			}),
			(e[6] = r.name),
			(e[7] = n))
		: (n = e[7]);
	let d;
	e[8] !== n || e[9] !== r
		? ((d = s.jsx(_s, { user: r, onSuccess: n, onError: Gs })),
			(e[8] = n),
			(e[9] = r),
			(e[10] = d))
		: (d = e[10]);
	let f;
	e[11] !== i || e[12] !== d
		? ((f = s.jsxs(ie, { children: [i, d] })),
			(e[11] = i),
			(e[12] = d),
			(e[13] = f))
		: (f = e[13]);
	let l;
	return (
		e[14] !== a || e[15] !== f
			? ((l = s.jsx(re, { ...a, children: f })),
				(e[14] = a),
				(e[15] = f),
				(e[16] = l))
			: (l = e[16]),
		l
	);
}
function Gs(t) {
	q.error("Erreur lors de la réinitialisation du mot de passe", {
		description: t.message,
	});
}
function Qs(t) {
	const e = T.c(22);
	let a, r, o, i;
	e[0] !== t
		? (({ user: i, onConfirm: o, onCancel: r, ...a } = t),
			(e[0] = t),
			(e[1] = a),
			(e[2] = r),
			(e[3] = o),
			(e[4] = i))
		: ((a = e[1]), (r = e[2]), (o = e[3]), (i = e[4]));
	let n;
	e[5] === Symbol.for("react.memo_cache_sentinel")
		? ((n = s.jsx(se, {
				children: s.jsx(ne, { children: "Supprimer l'utilisateur" }),
			})),
			(e[5] = n))
		: (n = e[5]);
	let d;
	e[6] !== i.email || e[7] !== i.name
		? ((d = s.jsxs(te, {
				children: ["Supprimer l'utilisateur ", i.name, " (", i.email, ")"],
			})),
			(e[6] = i.email),
			(e[7] = i.name),
			(e[8] = d))
		: (d = e[8]);
	let f;
	e[9] !== r
		? ((f = s.jsx(L, { variant: "outline", onClick: r, children: "Annuler" })),
			(e[9] = r),
			(e[10] = f))
		: (f = e[10]);
	let l;
	e[11] !== o
		? ((l = s.jsx(L, {
				variant: "destructive",
				onClick: o,
				children: "Supprimer",
			})),
			(e[11] = o),
			(e[12] = l))
		: (l = e[12]);
	let m;
	e[13] !== f || e[14] !== l
		? ((m = s.jsx(be, {
				children: s.jsxs("div", { className: "flex gap-2", children: [f, l] }),
			})),
			(e[13] = f),
			(e[14] = l),
			(e[15] = m))
		: (m = e[15]);
	let c;
	e[16] !== d || e[17] !== m
		? ((c = s.jsxs(ie, { children: [n, d, m] })),
			(e[16] = d),
			(e[17] = m),
			(e[18] = c))
		: (c = e[18]);
	let h;
	return (
		e[19] !== a || e[20] !== c
			? ((h = s.jsx(re, { ...a, children: c })),
				(e[19] = a),
				(e[20] = c),
				(e[21] = h))
			: (h = e[21]),
		h
	);
}
const Ft = () => {
	const e = T.c(46),
		a = X.useSearch();
	let r;
	e[0] === Symbol.for("react.memo_cache_sentinel")
		? ((r = { from: X.fullPath }), (e[0] = r))
		: (r = e[0]);
	const o = Ie(r),
		i = ns(),
		n = "selectedUser" in i.state ? i.state.selectedUser : null;
	let d;
	e[1] !== a ? ((d = Y(a)), (e[1] = a), (e[2] = d)) : (d = e[2]);
	const { data: f, isPending: l } = rs(d);
	let m;
	e[3] !== o ||
	e[4] !== a ||
	e[5] !== (n == null ? void 0 : n.id) ||
	e[6] !== (n == null ? void 0 : n.name)
		? ((m = {
				mutationFn: Ks,
				onSuccess: () => {
					q.success("Utilisateur supprimé avec succès", {
						description: `L'utilisateur ${n == null ? void 0 : n.name} a été supprimé avec succès`,
					}),
						fe.setQueryData(Y(a).queryKey, (S) => {
							if (!S) return S;
							const D = S.users.filter(
								(ae) => ae.id !== (n == null ? void 0 : n.id),
							);
							return { total: D.length, users: D };
						}),
						o({ search: Ws });
				},
				onError: Xs,
			}),
			(e[3] = o),
			(e[4] = a),
			(e[5] = n == null ? void 0 : n.id),
			(e[6] = n == null ? void 0 : n.name),
			(e[7] = m))
		: (m = e[7]);
	const c = ee(m),
		h = a.action;
	if (l) {
		let S;
		return (
			e[8] === Symbol.for("react.memo_cache_sentinel")
				? ((S = s.jsx(Ps, {})), (e[8] = S))
				: (S = e[8]),
			S
		);
	}
	if (!f) {
		let S;
		return (
			e[9] === Symbol.for("react.memo_cache_sentinel")
				? ((S = s.jsx("div", {
						children: "Erreur lors de la récupération des utilisateurs",
					})),
					(e[9] = S))
				: (S = e[9]),
			S
		);
	}
	const { total: N, users: y } = f;
	let P;
	e[10] !== o
		? ((P = (S) => {
				o({ search: Js, state: { selectedUser: S }, mask: { to: "." } });
			}),
			(e[10] = o),
			(e[11] = P))
		: (P = e[11]);
	const g = P;
	let x;
	e[12] !== o
		? ((x = (S) => {
				o({ search: Ys, state: { selectedUser: S }, mask: { to: "." } });
			}),
			(e[12] = o),
			(e[13] = x))
		: (x = e[13]);
	const u = x;
	let j;
	e[14] !== o
		? ((j = (S) => {
				o({ search: Zs, state: { selectedUser: S }, mask: { to: "." } });
			}),
			(e[14] = o),
			(e[15] = j))
		: (j = e[15]);
	const v = j;
	let b;
	e[16] !== o
		? ((b = () => {
				o({ search: et, state: void 0 });
			}),
			(e[16] = o),
			(e[17] = b))
		: (b = e[17]);
	const p = b;
	let M;
	e[18] !== N
		? ((M = s.jsxs("h2", {
				className: "text-lg font-semibold",
				children: ["Liste des utilisateurs (", N, ")"],
			})),
			(e[18] = N),
			(e[19] = M))
		: (M = e[19]);
	let $;
	e[20] === Symbol.for("react.memo_cache_sentinel")
		? (($ = s.jsx(L, {
				asChild: !0,
				children: s.jsx(Ae, {
					to: ".",
					search: st,
					mask: { to: "." },
					children: "Créer un utilisateur",
				}),
			})),
			(e[20] = $))
		: ($ = e[20]);
	let _;
	e[21] !== M
		? ((_ = s.jsxs("div", {
				className: "flex justify-between items-center",
				children: [M, $],
			})),
			(e[21] = M),
			(e[22] = _))
		: (_ = e[22]);
	let C;
	e[23] !== v || e[24] !== u || e[25] !== g || e[26] !== y
		? ((C = s.jsx(Ls, {
				users: y,
				onUserRoleEdit: g,
				onUserResetPassword: u,
				onUserDelete: v,
			})),
			(e[23] = v),
			(e[24] = u),
			(e[25] = g),
			(e[26] = y),
			(e[27] = C))
		: (C = e[27]);
	let U;
	e[28] !== h || e[29] !== p || e[30] !== n
		? ((U =
				n &&
				s.jsxs(s.Fragment, {
					children: [
						s.jsx(Vs, { open: h === "role", onOpenChange: p, user: n }),
						s.jsx(Hs, {
							open: h === "reset-password",
							onOpenChange: p,
							user: n,
						}),
					],
				})),
			(e[28] = h),
			(e[29] = p),
			(e[30] = n),
			(e[31] = U))
		: (U = e[31]);
	const R = h === "create";
	let w;
	e[32] !== p || e[33] !== R
		? ((w = s.jsx(Os, { open: R, onOpenChange: p })),
			(e[32] = p),
			(e[33] = R),
			(e[34] = w))
		: (w = e[34]);
	let E;
	e[35] !== h || e[36] !== c || e[37] !== p || e[38] !== n
		? ((E =
				n &&
				s.jsx(Qs, {
					open: h === "delete",
					onOpenChange: p,
					user: n,
					onConfirm: () => {
						c.mutate(n), p();
					},
					onCancel: p,
				})),
			(e[35] = h),
			(e[36] = c),
			(e[37] = p),
			(e[38] = n),
			(e[39] = E))
		: (E = e[39]);
	let k;
	return (
		e[40] !== C || e[41] !== U || e[42] !== w || e[43] !== E || e[44] !== _
			? ((k = s.jsxs("div", {
					className: "space-y-4",
					children: [_, C, U, w, E],
				})),
				(e[40] = C),
				(e[41] = U),
				(e[42] = w),
				(e[43] = E),
				(e[44] = _),
				(e[45] = k))
			: (k = e[45]),
		k
	);
};
async function Ks(t) {
	const { data: e, error: a } = await K.admin.removeUser({ userId: t.id });
	if (a != null && a.code) throw new Error(Q(a.code));
	if (!(e != null && e.success))
		throw new Error("Erreur lors de la suppression de l'utilisateur");
	return !0;
}
function Ws(t) {
	return { ...t, action: void 0 };
}
function Xs(t) {
	q.error("Erreur lors de la suppression de l'utilisateur", {
		description: t.message,
	});
}
function Js(t) {
	return { ...t, action: "role" };
}
function Ys(t) {
	return { ...t, action: "reset-password" };
}
function Zs(t) {
	return { ...t, action: "delete" };
}
function et(t) {
	return { ...t, action: void 0 };
}
function st(t) {
	return { ...t, action: "create" };
}
export { Ft as component };
